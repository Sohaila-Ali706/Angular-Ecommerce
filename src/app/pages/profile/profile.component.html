<div class="container mt-4">
    <nav>
        <span>Home / <strong>Account</strong></span>
      </nav>
    <div class="row">
      <div class="col-md-3">
        <h5>Manage My Account</h5>
        <ul class="list-group">
          <li class="list-group-item" (click)="setActiveTab('profile')" [class.active]="activeTab === 'profile'">My Profile</li>
          <li class="list-group-item" (click)="setActiveTab('address')" [class.active]="activeTab === 'address'">Address Book</li>
          <li class="list-group-item" (click)="setActiveTab('payment')" [class.active]="activeTab === 'payment'">My Payment Options</li>
        </ul>
        <h5 class="mt-4">My Orders</h5>
      <ul class="list-group">
        <li class="list-group-item" (click)="setActiveTab('returns')" [class.active]="activeTab === 'returns'">My Returns</li>
        <li class="list-group-item" (click)="setActiveTab('cancellations')" [class.active]="activeTab === 'cancellations'">My Cancellations</li>
      </ul>

      <h5 class="mt-4">My Wishlist</h5>
    </div>
  
      <div class="col-md-9">
        <div class="card p-4 shadow-box">
          <h4 class="text-danger">Edit Your Profile</h4>
          <form (ngSubmit)="saveChanges()">
            <div class="row">
              <div class="col-md-6">
                <label>First Name</label>
                <input type="text" class="form-control" [(ngModel)]="profile.firstName" name="firstName"
                  (input)="validateFirstName()" required>
                <small *ngIf="firstNameError" class="text-danger">{{ firstNameError }}</small>
              </div>
              <div class="col-md-6">
                <label>Last Name</label>
                <input type="text" class="form-control" [(ngModel)]="profile.lastName" name="lastName"
                  (input)="validateLastName()" required>
                <small *ngIf="lastNameError" class="text-danger">{{ lastNameError }}</small>
              </div>
            </div>
  
            <div class="row mt-3">
              <div class="col-md-6">
                <label>Email</label>
                <input type="email" class="form-control" [(ngModel)]="profile.email" name="email"
                  (input)="validateEmail()" required>
                <small *ngIf="emailError" class="text-danger">{{ emailError }}</small>
              </div>
              <div class="col-md-6">
                <label>Address</label>
                <input type="text" class="form-control" [(ngModel)]="profile.address" name="address" required>
              </div>
            </div>
  
            <h5 class="mt-4">Password Changes</h5>
            <div class="col-md-12">
              <input type="password" class="form-control" [(ngModel)]="profile.currentPassword" name="currentPassword"
                placeholder="Enter your current password" required>
            </div>
            <div class="col-md-12 mt-3">
              <input type="password" class="form-control" [(ngModel)]="profile.newPassword" name="newPassword"
                placeholder="Enter new password" (input)="validatePassword()" required>
              <small *ngIf="passwordError" class="text-danger">{{ passwordError }}</small>
            </div>
            <div class="col-md-12 mt-3">
              <input type="password" class="form-control" [(ngModel)]="profile.confirmNewPassword" name="confirmNewPassword"
                placeholder="Confirm new password" (input)="validateConfirmPassword()" required>
              <small *ngIf="confirmPasswordError" class="text-danger">{{ confirmPasswordError }}</small>
            </div>
  
            <div class="mt-4 d-flex justify-content-end">
              <button type="button" class="btn btn-light me-2" (click)="cancelChanges()">Cancel</button>
              <button type="submit" class="btn btn-danger" [disabled]="hasErrors()">Save Changes</button>
            </div>
  
            <div *ngIf="successMessage" class="alert alert-success mt-3">
              {{ successMessage }}
            </div>
          </form>
        </div>
      </div>
    </div>
</div>
