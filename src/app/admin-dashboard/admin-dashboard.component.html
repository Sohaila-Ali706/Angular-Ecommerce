<div class="container mt-5">

  <h2 class="mb-4 text-center">products dashboard</h2>

  <table class="table table-bordered table-hover text-center">
    <thead class="table-dark">
      <tr>
        <th>product name</th>
        <th>price</th>
        <th>control</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products">
        <td>{{ product.title }}</td>
        <td>{{ product.price }}</td>
        <td>
          <button class="btn btn-warning btn-sm me-2" (click)="openEditModal(product)">edit</button>
          <button class="btn btn-danger btn-sm" (click)="deleteProduct(product.id)">delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="card p-3 mt-4 shadow-sm">
    <h5 class="mb-3">add a new product</h5>
    <div class="row g-2 align-items-center">
      <div class="col-md-5">
        <input [(ngModel)]="newTitle" class="form-control" placeholder= "product name">
      </div>
      <div class="col-md-4">
        <input [(ngModel)]="newPrice" type="number" class="form-control" placeholder="price">
      </div>
      <div class="col-md-3">
        <button class="btn btn-success w-100" (click)="addProduct({ title: newTitle, price: newPrice })">add</button>
      </div>
    </div>
  </div>

  <div class="modal fade" id="editModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content p-3">
        <h5 class="modal-title">edit product</h5>
        <div class="modal-body">
          <input [(ngModel)]="editTitle" class="form-control mb-2" placeholder= "name product">
          <input [(ngModel)]="editPrice" type="number" class="form-control mb-2" placeholder="price">
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">cancel</button>
          <button class="btn btn-primary" (click)="saveEdit()">saveEdit</button>
        </div>
      </div>
    </div>
  </div>

</div>
